{"title":"折腾笔记-hexo、Mathjax、Latex的奇妙bug","uid":"106042df361711128e93d1695c28edbf","slug":"hexo-mathjax","date":"2024-07-28T16:00:00.000Z","updated":"2024-07-29T11:16:18.378Z","comments":true,"path":"api/articles/hexo-mathjax.json","keywords":null,"cover":"https://blogphoto-xyh.oss-cn-chengdu.aliyuncs.com/buaa/post2/mj1.png","content":"<h1 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h1><p>从来没想过能有这种奇妙问题……</p>\n<h1 id=\"bug复现\"><a href=\"#bug复现\" class=\"headerlink\" title=\"bug复现\"></a>bug复现</h1><p>我在写笔记的时候需要用到Latex写一些公式，前端用的Mathjax渲染，但是公式换行始终无法解决。</p>\n<p>按道理来说<code>\\\\</code>是可以起到换行的作用的，结果实际如下：</p>\n<h2 id=\"代码\"><a href=\"#代码\" class=\"headerlink\" title=\"代码\"></a>代码</h2><figure class=\"highlight latex\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">\\begin</span>&#123;align*&#125;</span><br><span class=\"line\">D<span class=\"built_in\">&amp;</span>=(<span class=\"keyword\">\\bar</span>&#123;AB&#125;)(A+<span class=\"keyword\">\\bar</span>&#123;B&#125;C) <span class=\"keyword\">\\\\</span></span><br><span class=\"line\"><span class=\"built_in\">&amp;</span>=(<span class=\"keyword\">\\bar</span>&#123;A&#125;+<span class=\"keyword\">\\bar</span>&#123;B&#125;)(A+<span class=\"keyword\">\\bar</span>&#123;B&#125;C) <span class=\"keyword\">\\\\</span></span><br><span class=\"line\"><span class=\"built_in\">&amp;</span>=A<span class=\"keyword\">\\bar</span>&#123;A&#125;+<span class=\"keyword\">\\bar</span>(A)<span class=\"keyword\">\\bar</span>&#123;B&#125;C+A<span class=\"keyword\">\\bar</span>&#123;B&#125;+<span class=\"keyword\">\\bar</span>&#123;B&#125;<span class=\"keyword\">\\bar</span>&#123;B&#125;C <span class=\"keyword\">\\\\</span></span><br><span class=\"line\"><span class=\"built_in\">&amp;</span>=(<span class=\"keyword\">\\bar</span>&#123;A&#125;+1)<span class=\"keyword\">\\bar</span>&#123;B&#125;C+A<span class=\"keyword\">\\bar</span>&#123;B&#125; <span class=\"keyword\">\\\\</span></span><br><span class=\"line\"><span class=\"built_in\">&amp;</span>=<span class=\"keyword\">\\bar</span>&#123;B&#125;C+A<span class=\"keyword\">\\bar</span>&#123;B&#125; <span class=\"keyword\">\\\\</span></span><br><span class=\"line\"><span class=\"built_in\">&amp;</span>=<span class=\"keyword\">\\bar</span>&#123;B&#125;(A+C)</span><br><span class=\"line\"><span class=\"keyword\">\\end</span>&#123;align*&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"现象\"><a href=\"#现象\" class=\"headerlink\" title=\"现象\"></a>现象</h2><p>$$<br>\\begin{align*}<br>D&amp;&#x3D;(\\bar{AB})(A+\\bar{B}C) \\<br>&amp;&#x3D;(\\bar{A}+\\bar{B})(A+\\bar{B}C) \\<br>&amp;&#x3D;A\\bar{A}+\\bar(A)\\bar{B}C+A\\bar{B}+\\bar{B}\\bar{B}C \\<br>&amp;&#x3D;(\\bar{A}+1)\\bar{B}C+A\\bar{B} \\<br>&amp;&#x3D;\\bar{B}C+A\\bar{B} \\<br>&amp;&#x3D;\\bar{B}(A+C)<br>\\end{align*}<br>$$</p>\n<h1 id=\"bug原理和修复\"><a href=\"#bug原理和修复\" class=\"headerlink\" title=\"bug原理和修复\"></a>bug原理和修复</h1><p>Mathjax其实不需要背锅，出问题的是markdown把<code>\\\\</code>转义成<code>\\</code>了，因此前端代码渲染出来的是<code>\\</code>的效果。所以我们需要把latex代码里面的<code>\\\\</code>全部替换成<code>\\\\\\\\</code>，由此就可以转义变成<code>\\\\</code>正确渲染了：</p>\n<h2 id=\"代码-1\"><a href=\"#代码-1\" class=\"headerlink\" title=\"代码\"></a>代码</h2><figure class=\"highlight latex\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">\\begin</span>&#123;align*&#125;</span><br><span class=\"line\">D<span class=\"built_in\">&amp;</span>=(<span class=\"keyword\">\\bar</span>&#123;AB&#125;)(A+<span class=\"keyword\">\\bar</span>&#123;B&#125;C) <span class=\"keyword\">\\\\</span><span class=\"keyword\">\\\\</span></span><br><span class=\"line\"><span class=\"built_in\">&amp;</span>=(<span class=\"keyword\">\\bar</span>&#123;A&#125;+<span class=\"keyword\">\\bar</span>&#123;B&#125;)(A+<span class=\"keyword\">\\bar</span>&#123;B&#125;C) <span class=\"keyword\">\\\\</span><span class=\"keyword\">\\\\</span></span><br><span class=\"line\"><span class=\"built_in\">&amp;</span>=A<span class=\"keyword\">\\bar</span>&#123;A&#125;+<span class=\"keyword\">\\bar</span>(A)<span class=\"keyword\">\\bar</span>&#123;B&#125;C+A<span class=\"keyword\">\\bar</span>&#123;B&#125;+<span class=\"keyword\">\\bar</span>&#123;B&#125;<span class=\"keyword\">\\bar</span>&#123;B&#125;C <span class=\"keyword\">\\\\</span><span class=\"keyword\">\\\\</span></span><br><span class=\"line\"><span class=\"built_in\">&amp;</span>=(<span class=\"keyword\">\\bar</span>&#123;A&#125;+1)<span class=\"keyword\">\\bar</span>&#123;B&#125;C+A<span class=\"keyword\">\\bar</span>&#123;B&#125; <span class=\"keyword\">\\\\</span><span class=\"keyword\">\\\\</span></span><br><span class=\"line\"><span class=\"built_in\">&amp;</span>=<span class=\"keyword\">\\bar</span>&#123;B&#125;C+A<span class=\"keyword\">\\bar</span>&#123;B&#125; <span class=\"keyword\">\\\\</span><span class=\"keyword\">\\\\</span></span><br><span class=\"line\"><span class=\"built_in\">&amp;</span>=<span class=\"keyword\">\\bar</span>&#123;B&#125;(A+C)</span><br><span class=\"line\"><span class=\"keyword\">\\end</span>&#123;align*&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"现象-1\"><a href=\"#现象-1\" class=\"headerlink\" title=\"现象\"></a>现象</h2><p>$$<br>\\begin{align*}<br>D&amp;&#x3D;(\\bar{AB})(A+\\bar{B}C) \\\\<br>&amp;&#x3D;(\\bar{A}+\\bar{B})(A+\\bar{B}C) \\\\<br>&amp;&#x3D;A\\bar{A}+\\bar(A)\\bar{B}C+A\\bar{B}+\\bar{B}\\bar{B}C \\\\<br>&amp;&#x3D;(\\bar{A}+1)\\bar{B}C+A\\bar{B} \\\\<br>&amp;&#x3D;\\bar{B}C+A\\bar{B} \\\\<br>&amp;&#x3D;\\bar{B}(A+C)<br>\\end{align*}<br>$$</p>\n","feature":true,"text":"hexo写Latex需要换行的时候经常会遇上问题，结果罪魁祸首是转义字符。...","permalink":"/post/hexo-mathjax","photos":[],"count_time":{"symbolsCount":"1.6k","symbolsTime":"1 mins."},"categories":[{"name":"折腾笔记","slug":"折腾笔记","count":2,"path":"api/categories/折腾笔记.json"},{"name":"网页","slug":"折腾笔记/网页","count":2,"path":"api/categories/折腾笔记/网页.json"}],"tags":[{"name":"hexo","slug":"hexo","count":1,"path":"api/tags/hexo.json"},{"name":"Mathjax","slug":"Mathjax","count":1,"path":"api/tags/Mathjax.json"},{"name":"Latex","slug":"Latex","count":1,"path":"api/tags/Latex.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%89%8D%E8%A8%80\"><span class=\"toc-text\">前言</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#bug%E5%A4%8D%E7%8E%B0\"><span class=\"toc-text\">bug复现</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BB%A3%E7%A0%81\"><span class=\"toc-text\">代码</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E7%8E%B0%E8%B1%A1\"><span class=\"toc-text\">现象</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#bug%E5%8E%9F%E7%90%86%E5%92%8C%E4%BF%AE%E5%A4%8D\"><span class=\"toc-text\">bug原理和修复</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BB%A3%E7%A0%81-1\"><span class=\"toc-text\">代码</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E7%8E%B0%E8%B1%A1-1\"><span class=\"toc-text\">现象</span></a></li></ol></li></ol>","author":{"name":"大仓鼠","slug":"blog-author","avatar":"https://blogphoto-xyh.oss-cn-chengdu.aliyuncs.com/%E7%BD%91%E7%AB%99%E7%B4%A0%E6%9D%90%E5%9B%BE%E7%89%87/%E5%A4%B4%E5%83%8Flogo/head.jpg","link":"/","description":"我的博客（隐藏版）","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"北航计组-预习2-从门电路到运算","uid":"98d48bfcc3d8d2c9c7bc42d4a7352b22","slug":"buaa-co-pre-2","date":"2024-07-28T16:00:00.000Z","updated":"2024-07-29T11:17:34.875Z","comments":true,"path":"api/articles/buaa-co-pre-2.json","keywords":null,"cover":"https://blogphoto-xyh.oss-cn-chengdu.aliyuncs.com/buaa/buaa-os1/co1.jpg?x-oss-process=image/resize,w_600","text":"L2-从门电路到运算，哎怎么梦回电电B了，强哥我想你了TAT...","permalink":"/post/buaa-co-pre-2","photos":[],"count_time":{"symbolsCount":"1.5k","symbolsTime":"1 mins."},"categories":[{"name":"北航计组","slug":"北航计组","count":3,"path":"api/categories/北航计组.json"},{"name":"学习笔记","slug":"北航计组/学习笔记","count":3,"path":"api/categories/北航计组/学习笔记.json"}],"tags":[{"name":"计算机组成原理","slug":"计算机组成原理","count":3,"path":"api/tags/计算机组成原理.json"}],"author":{"name":"大仓鼠","slug":"blog-author","avatar":"https://blogphoto-xyh.oss-cn-chengdu.aliyuncs.com/%E7%BD%91%E7%AB%99%E7%B4%A0%E6%9D%90%E5%9B%BE%E7%89%87/%E5%A4%B4%E5%83%8Flogo/head.jpg","link":"/","description":"我的博客（隐藏版）","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true},"next_post":{"title":"折腾笔记-基于GithubPages制作博客里世界","uid":"73415a1b5e681c28d78c3a872e437bc5","slug":"net-daily-ssl-domain","date":"2024-07-25T16:00:00.000Z","updated":"2024-07-28T10:06:31.896Z","comments":true,"path":"api/articles/net-daily-ssl-domain.json","keywords":null,"cover":"https://blogphoto-xyh.oss-cn-chengdu.aliyuncs.com/buaa/post1/github-pages.png","text":"本文介绍了一个大铸币折腾GitHubPages与hexo的过程，为了搭建一个博客踩的坑也记录下来了，希望能够启发后人解决问题的思路。...","permalink":"/post/net-daily-ssl-domain","photos":[],"count_time":{"symbolsCount":"3.2k","symbolsTime":"3 mins."},"categories":[{"name":"折腾笔记","slug":"折腾笔记","count":2,"path":"api/categories/折腾笔记.json"},{"name":"网页","slug":"折腾笔记/网页","count":2,"path":"api/categories/折腾笔记/网页.json"}],"tags":[{"name":"GithubPages","slug":"GithubPages","count":1,"path":"api/tags/GithubPages.json"},{"name":"SSL","slug":"SSL","count":1,"path":"api/tags/SSL.json"},{"name":"Nginx","slug":"Nginx","count":1,"path":"api/tags/Nginx.json"}],"author":{"name":"大仓鼠","slug":"blog-author","avatar":"https://blogphoto-xyh.oss-cn-chengdu.aliyuncs.com/%E7%BD%91%E7%AB%99%E7%B4%A0%E6%9D%90%E5%9B%BE%E7%89%87/%E5%A4%B4%E5%83%8Flogo/head.jpg","link":"/","description":"我的博客（隐藏版）","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true}}